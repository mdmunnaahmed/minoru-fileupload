<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="content-language" content="ja">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
  <div class="logo-header">
    <img src="./assets/img/company-logo.png" alt="company-logo">
  </div>

  <main class="main-wrapper">
    <div class="main-wrapper-inner">
      <h1 class="main-title">ファイル登録</h1>
      <form action="" class="file-upload-form">
        <div class="drop-zone">
          <div class="text-group">
            <p class="text1">ファイルをドラッグ&ドロップしてください。</p>
            <p class="text2">※ファイル選択後アップロードは即実施されます。</p>
            <p class="text3">アップロード容量：〇〇GBまで</p>
            <p class="text3">アップロード個数：〇〇個まで</p>
            <button class="file-up-btn">ファイルを選択 <svg width="20" viewBox="0 0 20 20" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M9.16683 13.3333V6.54165L7.00016 8.70831L5.8335 7.49998L10.0002 3.33331L14.1668 7.49998L13.0002 8.70831L10.8335 6.54165V13.3333H9.16683ZM5.00016 16.6666C4.54183 16.6666 4.14961 16.5036 3.8235 16.1775C3.49738 15.8514 3.33405 15.4589 3.3335 15V12.5H5.00016V15H15.0002V12.5H16.6668V15C16.6668 15.4583 16.5038 15.8508 16.1777 16.1775C15.8516 16.5041 15.4591 16.6672 15.0002 16.6666H5.00016Z"
                  fill="white" />
              </svg>
            </button>
          </div>
          <input type="file" name="myFile" class="drop-zone__input">
        </div>
        <div class="form-group">
          <label for="">タイトル</label>
          <input class="form-control" type="text" placeholder="1126_ファイルアップロード">
        </div>
        <hr>
        <div class="form-group">
          <label for="">パスワード</label>
          <input class="form-control" type="text" placeholder="abcdefg">
        </div>
        <hr>
        <div class="form-group" style="flex-direction: row;">
          <label for="">有効期限</label>
          <select class="form-control" name="" id="" style="max-width: 150px;">
            <option value="">3日</option>
          </select>
        </div>
        <hr>

        <div class="copy-input-div">
          <label for="">ダウンロードURL</label>
          <div class="input-group">
            <input id="copytextinput" type="text" class="form-control"
              value="https://1.gigafile.nu/0926-bbe7d658414d/0926-bbe7d658414d" readonly>
            <button class="cpy-button" type="button" onclick="copyToClipboard(this)">
              <svg width="14" height="11" viewBox="0 0 14 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M4.9585 11L0.208496 6.24999L1.396 5.06249L4.9585 8.62499L12.6043 0.979156L13.7918 2.16666L4.9585 11Z"
                  fill="white" />
              </svg>
              <span class="text">Copy</span>
            </button>
            <script>
              function copyToClipboard(button) {
                // Get the input field
                const inputField = document.getElementById('copytextinput');

                // Select the text
                inputField.select();
                inputField.setSelectionRange(0, 99999); // For mobile devices

                // Copy the text to clipboard
                navigator.clipboard.writeText(inputField.value)
                  .then(() => {
                    // alert('Copied to clipboard!');
                    button.querySelector('.text').textContent = 'Copied!'
                    setTimeout(() => {
                      inputField.blur();
                      button.querySelector('.text').textContent = 'Copy!'
                    }, 5000);
                  })
                  .catch(err => {
                    console.error('Error copying text: ', err);
                  });
              }
            </script>
          </div>
        </div>
      </form>

      <div class="table-container">
        <table class="styled-table" id="data-table-one">
          <thead>
            <tr>
              <th>アップロードファイル</th>
              <th>URL</th>
              <th>ファイル容量</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>file00000001.png</td>
              <td>https://1.gigafile.nu/0926bbe7d658414d...</td>
              <td>
                <div class="action-group">
                  <span>500.00 byte</span>
                  <button class="copy-button"><svg width="10" height="8" viewBox="0 0 10 8" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M3.57061 7.5L0.245605 4.175L1.07686 3.34375L3.57061 5.8375L8.92269 0.485413L9.75394 1.31666L3.57061 7.5Z"
                        fill="white" />
                    </svg>
                    Copy</button>
                  <button class="delete-button"> <svg width="12" viewBox="0 0 12 12" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M1.3335 3.08333H10.6668M4.8335 5.41667V8.91667M7.16683 5.41667V8.91667M1.91683 3.08333L2.50016 10.0833C2.50016 10.3928 2.62308 10.6895 2.84187 10.9083C3.06066 11.1271 3.35741 11.25 3.66683 11.25H8.33349C8.64291 11.25 8.93966 11.1271 9.15845 10.9083C9.37724 10.6895 9.50016 10.3928 9.50016 10.0833L10.0835 3.08333M4.25016 3.08333V1.33333C4.25016 1.17862 4.31162 1.03025 4.42102 0.920854C4.53041 0.811458 4.67879 0.75 4.8335 0.75H7.16683C7.32154 0.75 7.46991 0.811458 7.57931 0.920854C7.6887 1.03025 7.75016 1.17862 7.75016 1.33333V3.08333"
                        stroke="white" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                    削除</button>
                </div>
              </td>
            </tr>
            <tr class="alternate-row">
              <td>file00000002.png</td>
              <td>https://1.gigafile.nu/0926bbe7d658414d...</td>
              <td>
                <div class="action-group">
                  <span>500.00 byte</span>
                  <button class="copy-button"><svg width="10" height="8" viewBox="0 0 10 8" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M3.57061 7.5L0.245605 4.175L1.07686 3.34375L3.57061 5.8375L8.92269 0.485413L9.75394 1.31666L3.57061 7.5Z"
                        fill="white" />
                    </svg>
                    Copy</button>
                  <button class="delete-button"> <svg width="12" viewBox="0 0 12 12" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M1.3335 3.08333H10.6668M4.8335 5.41667V8.91667M7.16683 5.41667V8.91667M1.91683 3.08333L2.50016 10.0833C2.50016 10.3928 2.62308 10.6895 2.84187 10.9083C3.06066 11.1271 3.35741 11.25 3.66683 11.25H8.33349C8.64291 11.25 8.93966 11.1271 9.15845 10.9083C9.37724 10.6895 9.50016 10.3928 9.50016 10.0833L10.0835 3.08333M4.25016 3.08333V1.33333C4.25016 1.17862 4.31162 1.03025 4.42102 0.920854C4.53041 0.811458 4.67879 0.75 4.8335 0.75H7.16683C7.32154 0.75 7.46991 0.811458 7.57931 0.920854C7.6887 1.03025 7.75016 1.17862 7.75016 1.33333V3.08333"
                        stroke="white" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                    削除</button>
                </div>
              </td>
            </tr>
            <tr>
              <td>file00000003.png</td>
              <td>https://1.gigafile.nu/0926bbe7d658414d...</td>
              <td>
                <div class="action-group">
                  <span>500.00 byte</span>
                  <button class="copy-button"><svg width="10" height="8" viewBox="0 0 10 8" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M3.57061 7.5L0.245605 4.175L1.07686 3.34375L3.57061 5.8375L8.92269 0.485413L9.75394 1.31666L3.57061 7.5Z"
                        fill="white" />
                    </svg>
                    Copy</button>
                  <button class="delete-button"> <svg width="12" viewBox="0 0 12 12" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M1.3335 3.08333H10.6668M4.8335 5.41667V8.91667M7.16683 5.41667V8.91667M1.91683 3.08333L2.50016 10.0833C2.50016 10.3928 2.62308 10.6895 2.84187 10.9083C3.06066 11.1271 3.35741 11.25 3.66683 11.25H8.33349C8.64291 11.25 8.93966 11.1271 9.15845 10.9083C9.37724 10.6895 9.50016 10.3928 9.50016 10.0833L10.0835 3.08333M4.25016 3.08333V1.33333C4.25016 1.17862 4.31162 1.03025 4.42102 0.920854C4.53041 0.811458 4.67879 0.75 4.8335 0.75H7.16683C7.32154 0.75 7.46991 0.811458 7.57931 0.920854C7.6887 1.03025 7.75016 1.17862 7.75016 1.33333V3.08333"
                        stroke="white" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                    削除</button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </main>


  <script>
    document.querySelectorAll(".drop-zone__input").forEach((inputElement) => {
      const dropZoneElement = inputElement.closest(".drop-zone");
      const textGroup = document.querySelector(".text-group");

      dropZoneElement.addEventListener("click", (e) => {
        inputElement.click();
      });

      inputElement.addEventListener("change", (e) => {
        if (inputElement.files.length) {
          updateThumbnail(dropZoneElement, inputElement.files[0]);
          textGroup.style.display = 'none'
        }
      });

      dropZoneElement.addEventListener("dragover", (e) => {
        e.preventDefault();
        dropZoneElement.classList.add("drop-zone--over");
      });

      ["dragleave", "dragend"].forEach((type) => {
        dropZoneElement.addEventListener(type, (e) => {
          dropZoneElement.classList.remove("drop-zone--over");
        });
      });

      dropZoneElement.addEventListener("drop", (e) => {
        e.preventDefault();
        textGroup.style.display = 'none'
        if (e.dataTransfer.files.length) {
          inputElement.files = e.dataTransfer.files;
          updateThumbnail(dropZoneElement, e.dataTransfer.files[0]);
        }

        dropZoneElement.classList.remove("drop-zone--over");
      });
    });

    function updateThumbnail(dropZoneElement, file) {
      let thumbnailElement = dropZoneElement.querySelector(".drop-zone__thumb");

      // First time - remove the prompt
      if (dropZoneElement.querySelector(".drop-zone__prompt")) {
        dropZoneElement.querySelector(".drop-zone__prompt").remove();
      }

      // First time - there is no thumbnail element, so lets create it
      if (!thumbnailElement) {
        thumbnailElement = document.createElement("div");
        thumbnailElement.classList.add("drop-zone__thumb");
        dropZoneElement.appendChild(thumbnailElement);
      }

      thumbnailElement.dataset.label = file.name;

      // Show thumbnail for image files
      if (file.type.startsWith("image/")) {
        const reader = new FileReader();

        reader.readAsDataURL(file);
        reader.onload = () => {
          thumbnailElement.style.backgroundImage = `url('${reader.result}')`;
        };
      } else {
        thumbnailElement.style.backgroundImage = null;
      }
    }

  </script>
</body>

</html>